replytimeout = 1000;
readtimeout = 5000;
writetimeout = 2000;
# define the record waiting time in the queue to be processed
locktimeout = 5000;
#In & out terminator must be defined, otherwise the readTimeout & replyTimeout will be used
outterminator = CR;
interminator = CR;

set:uhr:CL {
  extraInput = ignore;
  out "CL \$2";
  in "CL";
}

get:uhr:Status {
  # Parameters: 1=CARD, 2=CHAN
  out "ST \$2";
  in "ST\_\$2\_%(\$1:\$2:Flow:get.VAL)u\_"
            "%(\$1:\$2:Min:get.VAL)d\_"
            "%(\$1:\$2:Max:get.VAL)d\_"
            "%(\$1:\$2:Qn:get.VAL)#{1.5N=2|2.5=1|1.5=0|10.N=3|10.0}\_"
            "%(\$1:\$2:Kubic:get.VAL)u\_"
            "%u\_"; # last is Liter
}

# alarm 
get:uhr:alarm {
  out "IN";
  in "IN %(\$1:1:alarm.VAL)#{ 1 =1|=0}"
       "%(\$1:2:alarm.VAL)#{ 2 =1|=0}"
       "%(\$1:3:alarm.VAL)#{ 3 =1|=0}"
       "%(\$1:4:alarm.VAL)#{ 4 =1|=0}"
       "%(\$1:5:alarm.VAL)#{ 5 =1|=0}"
       "%(\$1:6:alarm.VAL)#{ 6 =1|=0}"
       "%(\$1:7:alarm.VAL)#{ 7 =1|=0}"
       "%(\$1:8:alarm.VAL)#{ 8 =1|=0}"
       "%(\$1:9:alarm.VAL)#{ 9 =1|=0}"
       "%(\$1:10:alarm.VAL)#{10 =1|=0}"
       "%(\$1:11:alarm.VAL)#{11 =1|=0}"
       "%(\$1:12:alarm.VAL)#{12 =1|=0}"
       "%(\$1:13:alarm.VAL)#{13 =1|=0}"
       "%(\$1:14:alarm.VAL)#{14 =1|=0}"
       "%#{15 =1|=0}";
}

set:uhr:Min {
  %extraInput = ignore;
  out "SE \$2 %u";
  in "SE\_\$2\_%*u\_%*u\_%*u\_%*s\_%*u\_%*u ";
  in "AL\_%*u\_%*u\_%*u\_%*u\_%*u\_%*u\_%*u\%_*u\_%*u\_%*u\_%*u\_%*u\_%*u\_%*u\_%*u\_%*u";
  @mismatch{in "SE\_\$2\_%*u\_%*u\_%*u\_%*s\_%*u\_%*u "};
}

set:uhr:Max {
  extraInput = ignore;
  out "SE \$2 * %u";
  in "SE\_\$2\_%*u\_%*u\_%*u\_%*s\_%*u\_%*u ";
  in "AL\_%*u\_%*u\_%*u\_%*u\_%*u\_%*u\_%*u\%_*u\_%*u\_%*u\_%*u\_%*u\_%*u\_%*u\_%*u\_%*u";
  @mismatch{in "SE\_\$2\_%*u\_%*u\_%*u\_%*s\_%*u\_%*u "};
}

#set:uhr:Qn {
#  out "SE \$2 * * %#{1.5|2.5|3|3.5|6|10}";
#}

set:uhr:Qn {
  extraInput = ignore;
  out "SE \$2 * * %#{1.5|2.5|3.5|6|10}";
  in "SE\_\$2\_%*u\_%*u\_%*u\_%*s\_%*u\_%*u"
}

set:uhr:Kubic {
  extraInput = ignore;
  out "SE \$2 *** %u";
  in "SE\_\$2\_%*u\_%*u\_%*u\_%*s\_%*u\_%*u"
}

set:uhr:Liter {
  extraInput = ignore;
  out "SE \$2 **** %u";
  in "SE\_\$2\_%*u\_%*u\_%*u\_%*s\_%*u\_%*u";

  @init{
   out "SE \$2";
   in "SE\_\$2\_%*u\_"
              "%(\$1:\$2:Min:set.VAL)u\_"
              "%(\$1:\$2:Max:set.VAL)u\_"
              "%*s\_"
              "%(\$1:\$2:Kubic:set.VAL)u\_"
              "%u "; # last is Liter
  }
}

